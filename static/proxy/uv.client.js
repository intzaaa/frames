"use strict";function _array_like_to_array(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function _array_with_holes(arr){if(Array.isArray(arr))return arr}function _array_without_holes(arr){if(Array.isArray(arr))return _array_like_to_array(arr)}function _assert_this_initialized(self1){if(self1===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self1}function _check_private_redeclaration(obj,privateCollection){if(privateCollection.has(obj)){throw new TypeError("Cannot initialize the same private elements twice on an object")}}function _class_apply_descriptor_get(receiver,descriptor){if(descriptor.get){return descriptor.get.call(receiver)}return descriptor.value}function _class_apply_descriptor_set(receiver,descriptor,value){if(descriptor.set){descriptor.set.call(receiver,value)}else{if(!descriptor.writable){throw new TypeError("attempted to set read only private field")}descriptor.value=value}}function _class_call_check(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _class_extract_field_descriptor(receiver,privateMap,action){if(!privateMap.has(receiver)){throw new TypeError("attempted to "+action+" private field on non-instance")}return privateMap.get(receiver)}function _class_private_field_get(receiver,privateMap){var descriptor=_class_extract_field_descriptor(receiver,privateMap,"get");return _class_apply_descriptor_get(receiver,descriptor)}function _class_private_field_init(obj,privateMap,value){_check_private_redeclaration(obj,privateMap);privateMap.set(obj,value)}function _class_private_field_set(receiver,privateMap,value){var descriptor=_class_extract_field_descriptor(receiver,privateMap,"set");_class_apply_descriptor_set(receiver,descriptor,value);return value}function _construct(Parent,args,Class){if(_is_native_reflect_construct()){_construct=Reflect.construct}else{_construct=function construct(Parent,args,Class){var a=[null];a.push.apply(a,args);var Constructor=Function.bind.apply(Parent,a);var instance=new Constructor;if(Class)_set_prototype_of(instance,Class.prototype);return instance}}return _construct.apply(null,arguments)}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _create_class(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _get_prototype_of(o){_get_prototype_of=Object.setPrototypeOf?Object.getPrototypeOf:function getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _get_prototype_of(o)}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_set_prototype_of(subClass,superClass)}function _instanceof(left,right){if(right!=null&&typeof Symbol!=="undefined"&&right[Symbol.hasInstance]){return!!right[Symbol.hasInstance](left)}else{return left instanceof right}}function _iterable_to_array(iter){if(typeof Symbol!=="undefined"&&iter[Symbol.iterator]!=null||iter["@@iterator"]!=null)return Array.from(iter)}function _iterable_to_array_limit(arr,i){var _i=arr==null?null:typeof Symbol!=="undefined"&&arr[Symbol.iterator]||arr["@@iterator"];if(_i==null)return;var _arr=[];var _n=true;var _d=false;var _s,_e;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _non_iterable_rest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _non_iterable_spread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _possible_constructor_return(self1,call){if(call&&(_type_of(call)==="object"||typeof call==="function")){return call}return _assert_this_initialized(self1)}function _set_prototype_of(o,p){_set_prototype_of=Object.setPrototypeOf||function setPrototypeOf(o,p){o.__proto__=p;return o};return _set_prototype_of(o,p)}function _sliced_to_array(arr,i){return _array_with_holes(arr)||_iterable_to_array_limit(arr,i)||_unsupported_iterable_to_array(arr,i)||_non_iterable_rest()}function _to_array(arr){return _array_with_holes(arr)||_iterable_to_array(arr)||_unsupported_iterable_to_array(arr)||_non_iterable_rest()}function _to_consumable_array(arr){return _array_without_holes(arr)||_iterable_to_array(arr)||_unsupported_iterable_to_array(arr)||_non_iterable_spread()}function _type_of(obj){"@swc/helpers - typeof";return obj&&typeof Symbol!=="undefined"&&obj.constructor===Symbol?"symbol":typeof obj}function _unsupported_iterable_to_array(o,minLen){if(!o)return;if(typeof o==="string")return _array_like_to_array(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if(n==="Object"&&o.constructor)n=o.constructor.name;if(n==="Map"||n==="Set")return Array.from(n);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _array_like_to_array(o,minLen)}function _is_native_reflect_construct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true}catch(e){return false}}function _create_super(Derived){var hasNativeReflectConstruct=_is_native_reflect_construct();return function _createSuperInternal(){var Super=_get_prototype_of(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_get_prototype_of(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else{result=Super.apply(this,arguments)}return _possible_constructor_return(this,result)}}(function(){var _e,_t;var Ie=Object.create;var q=Object.defineProperty;var He=Object.getOwnPropertyDescriptor;var Ae=Object.getOwnPropertyNames;var Ce=Object.getPrototypeOf,Te=Object.prototype.hasOwnProperty;var Ue=function(a,t){return function(){return t||a((t={exports:{}}).exports,t),t.exports}};var je=function(a,t,r,e){var _iteratorNormalCompletion=true,_didIteratorError=false,_iteratorError=undefined;if(t&&typeof t=="object"||typeof t=="function")try{var _loop=function(){var n=_step.value;!Te.call(a,n)&&n!==r&&q(a,n,{get:function(){return t[n]},enumerable:!(e=He(t,n))||e.enumerable})};for(var _iterator=Ae(t)[Symbol.iterator](),_step;!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=true)_loop()}catch(err){_didIteratorError=true;_iteratorError=err}finally{try{if(!_iteratorNormalCompletion&&_iterator.return!=null){_iterator.return()}}finally{if(_didIteratorError){throw _iteratorError}}}return a};var p=function(a,t,r){return r=a!=null?Ie(Ce(a)):{},je(t||!a||!a.__esModule?q(r,"default",{value:a,enumerable:!0}):r,a)};var c=Ue(function(Xe,P){"use strict";var qe=function qe(a){console&&console.warn&&console.warn(a)};var w=function w(a){if(typeof a!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+(typeof a==="undefined"?"undefined":_type_of(a)))};var B=function B(a){return a._maxListeners===void 0?h.defaultMaxListeners:a._maxListeners};var G=function G(a,t,r,e){var n,i,o;if(w(r),i=a._events,i===void 0?(i=a._events=Object.create(null),a._eventsCount=0):(i.newListener!==void 0&&(a.emit("newListener",t,r.listener?r.listener:r),i=a._events),o=i[t]),o===void 0)o=i[t]=r,++a._eventsCount;else if(typeof o=="function"?o=i[t]=e?[r,o]:[o,r]:e?o.unshift(r):o.push(r),n=B(a),n>0&&o.length>n&&!o.warned){o.warned=!0;var l=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");l.name="MaxListenersExceededWarning",l.emitter=a,l.type=t,l.count=o.length,qe(l)}return a};var _e=function _e(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)};var K=function K(a,t,r){var e={fired:!1,wrapFn:void 0,target:a,type:t,listener:r},n=_e.bind(e);return n.listener=r,e.wrapFn=n,n};var X=function X(a,t,r){var e=a._events;if(e===void 0)return[];var n=e[t];return n===void 0?[]:typeof n=="function"?r?[n.listener||n]:[n]:r?We(n):z(n,n.length)};var Q=function Q(a){var t=this._events;if(t!==void 0){var r=t[a];if(typeof r=="function")return 1;if(r!==void 0)return r.length}return 0};var z=function z(a,t){for(var r=new Array(t),e=0;e<t;++e)r[e]=a[e];return r};var Fe=function Fe(a,t){for(;t+1<a.length;t++)a[t]=a[t+1];a.pop()};var We=function We(a){for(var t=new Array(a.length),r=0;r<t.length;++r)t[r]=a[r].listener||a[r];return t};var Be=function Be(a,t){return new Promise(function(r,e){function n(o){a.removeListener(t,i),e(o)}function i(){typeof a.removeListener=="function"&&a.removeListener("error",n),r([].slice.call(arguments))}J(a,t,i,{once:!0}),t!=="error"&&Ge(a,n,{once:!0})})};var Ge=function Ge(a,t,r){typeof a.on=="function"&&J(a,"error",t,r)};var J=function J(a,t,r,e){if(typeof a.on=="function")e.once?a.once(t,r):a.on(t,r);else if(typeof a.addEventListener=="function")a.addEventListener(t,function n(i){e.once&&a.removeEventListener(t,n),r(i)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+(typeof a==="undefined"?"undefined":_type_of(a)))};var m=typeof Reflect=="object"?Reflect:null,_=m&&typeof m.apply=="function"?m.apply:function _(t,r,e){return Function.prototype.apply.call(t,r,e)},f;m&&typeof m.ownKeys=="function"?f=m.ownKeys:Object.getOwnPropertySymbols?f=function f(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:f=function f(t){return Object.getOwnPropertyNames(t)};var W=Number.isNaN||function(t){return t!==t};function h(){h.init.call(this)}P.exports=h;P.exports.once=Be;h.EventEmitter=h;h.prototype._events=void 0;h.prototype._eventsCount=0;h.prototype._maxListeners=void 0;var F=10;Object.defineProperty(h,"defaultMaxListeners",{enumerable:!0,get:function get(){return F},set:function set(a){if(typeof a!="number"||a<0||W(a))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+a+".");F=a}});h.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};h.prototype.setMaxListeners=function(t){if(typeof t!="number"||t<0||W(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this};h.prototype.getMaxListeners=function(){return B(this)};h.prototype.emit=function(t){for(var r=[],e=1;e<arguments.length;e++)r.push(arguments[e]);var n=t==="error",i=this._events;if(i!==void 0)n=n&&i.error===void 0;else if(!n)return!1;if(n){var o;if(r.length>0&&(o=r[0]),_instanceof(o,Error))throw o;var l=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw l.context=o,l}var u=i[t];if(u===void 0)return!1;if(typeof u=="function")_(u,this,r);else for(var d=u.length,v=z(u,d),e=0;e<d;++e)_(v[e],this,r);return!0};h.prototype.addListener=function(t,r){return G(this,t,r,!1)};h.prototype.on=h.prototype.addListener;h.prototype.prependListener=function(t,r){return G(this,t,r,!0)};h.prototype.once=function(t,r){return w(r),this.on(t,K(this,t,r)),this};h.prototype.prependOnceListener=function(t,r){return w(r),this.prependListener(t,K(this,t,r)),this};h.prototype.removeListener=function(t,r){var e,n,i,o,l;if(w(r),n=this._events,n===void 0)return this;if(e=n[t],e===void 0)return this;if(e===r||e.listener===r)--this._eventsCount===0?this._events=Object.create(null):(delete n[t],n.removeListener&&this.emit("removeListener",t,e.listener||r));else if(typeof e!="function"){for(i=-1,o=e.length-1;o>=0;o--)if(e[o]===r||e[o].listener===r){l=e[o].listener,i=o;break}if(i<0)return this;i===0?e.shift():Fe(e,i),e.length===1&&(n[t]=e[0]),n.removeListener!==void 0&&this.emit("removeListener",t,l||r)}return this};h.prototype.off=h.prototype.removeListener;h.prototype.removeAllListeners=function(t){var r,e,n;if(e=this._events,e===void 0)return this;if(e.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):e[t]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete e[t]),this;if(arguments.length===0){var i=Object.keys(e),o;for(n=0;n<i.length;++n)o=i[n],o!=="removeListener"&&this.removeAllListeners(o);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(r=e[t],typeof r=="function")this.removeListener(t,r);else if(r!==void 0)for(n=r.length-1;n>=0;n--)this.removeListener(t,r[n]);return this};h.prototype.listeners=function(t){return X(this,t,!0)};h.prototype.rawListeners=function(t){return X(this,t,!1)};h.listenerCount=function(a,t){return typeof a.listenerCount=="function"?a.listenerCount(t):Q.call(a,t)};h.prototype.listenerCount=Q;h.prototype.eventNames=function(){return this._eventsCount>0?f(this._events):[]}});var Y=p(c(),1);var g=(_e=new WeakMap,_t=new WeakMap,function(){function _class(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;_class_call_check(this,_class);_class_private_field_init(this,_e,{writable:true,value:void 0});_class_private_field_init(this,_t,{writable:true,value:void 0});_class_private_field_set(this,_e,!1),_class_private_field_set(this,_t,null),this.data=t,this.target=r,this.that=e}_create_class(_class,[{key:"intercepted",get:function get(){return _class_private_field_get(this,_e)}},{key:"returnValue",get:function get(){return _class_private_field_get(this,_t)}},{key:"respondWith",value:function respondWith(t){_class_private_field_set(this,_t,t),_class_private_field_set(this,_e,!0)}}]);return _class}()),s=g;var x=function(_Y_default){_inherits(x,_Y_default);var _super=_create_super(x);function x(t){_class_call_check(this,x);var _this;_this=_super.call(this),_this.ctx=t,_this.window=t.window,_this.document=_this.window.document,_this.Document=_this.window.Document||{},_this.DOMParser=_this.window.DOMParser||{},_this.docProto=_this.Document.prototype||{},_this.domProto=_this.DOMParser.prototype||{},_this.title=t.nativeMethods.getOwnPropertyDescriptor(_this.docProto,"title"),_this.cookie=t.nativeMethods.getOwnPropertyDescriptor(_this.docProto,"cookie"),_this.referrer=t.nativeMethods.getOwnPropertyDescriptor(_this.docProto,"referrer"),_this.domain=t.nativeMethods.getOwnPropertyDescriptor(_this.docProto,"domain"),_this.documentURI=t.nativeMethods.getOwnPropertyDescriptor(_this.docProto,"documentURI"),_this.write=_this.docProto.write,_this.writeln=_this.docProto.writeln,_this.querySelector=_this.docProto.querySelector,_this.querySelectorAll=_this.docProto.querySelectorAll,_this.parseFromString=_this.domProto.parseFromString,_this.URL=t.nativeMethods.getOwnPropertyDescriptor(_this.docProto,"URL");return _possible_constructor_return(_this)}_create_class(x,[{key:"overrideParseFromString",value:function overrideParseFromString(){var _this=this;this.ctx.override(this.domProto,"parseFromString",function(t,r,e){if(2>e.length)return t.apply(r,e);var _e=_sliced_to_array(e,2),n=_e[0],i=_e[1],o=new s({string:n,type:i},t,r);return _this.emit("parseFromString",o),o.intercepted?o.returnValue:o.target.call(o.that,o.data.string,o.data.type)})}},{key:"overrideQuerySelector",value:function overrideQuerySelector(){var _this=this;this.ctx.override(this.docProto,"querySelector",function(t,r,e){if(!e.length)return t.apply(r,e);var _e=_sliced_to_array(e,1),n=_e[0],i=new s({selectors:n},t,r);return _this.emit("querySelector",i),i.intercepted?i.returnValue:i.target.call(i.that,i.data.selectors)})}},{key:"overrideDomain",value:function overrideDomain(){var _this=this;this.ctx.overrideDescriptor(this.docProto,"domain",{get:function(t,r){var e=new s({value:t.call(r)},t,r);return _this.emit("getDomain",e),e.intercepted?e.returnValue:e.data.value},set:function(t,r,param){var _param=_sliced_to_array(param,1),e=_param[0];var n=new s({value:e},t,r);return _this.emit("setDomain",n),n.intercepted?n.returnValue:n.target.call(n.that,n.data.value)}})}},{key:"overrideReferrer",value:function overrideReferrer(){var _this=this;this.ctx.overrideDescriptor(this.docProto,"referrer",{get:function(t,r){var e=new s({value:t.call(r)},t,r);return _this.emit("referrer",e),e.intercepted?e.returnValue:e.data.value}})}},{key:"overrideCreateTreeWalker",value:function overrideCreateTreeWalker(){var _this=this;this.ctx.override(this.docProto,"createTreeWalker",function(t,r,e){if(!e.length)return t.apply(r,e);var _e=_sliced_to_array(e,4),n=_e[0],tmp=_e[1],i=tmp===void 0?4294967295:tmp,o=_e[2],l=_e[3],u=new s({root:n,show:i,filter:o,expandEntityReferences:l},t,r);return _this.emit("createTreeWalker",u),u.intercepted?u.returnValue:u.target.call(u.that,u.data.root,u.data.show,u.data.filter,u.data.expandEntityReferences)})}},{key:"overrideWrite",value:function overrideWrite(){var _this=this;this.ctx.override(this.docProto,"write",function(t,r,e){if(!e.length)return t.apply(r,e);var _e=_to_array(e),n=_e.slice(0),i=new s({html:n},t,r);return _this.emit("write",i),i.intercepted?i.returnValue:i.target.apply(i.that,i.data.html)}),this.ctx.override(this.docProto,"writeln",function(t,r,e){if(!e.length)return t.apply(r,e);var _e=_to_array(e),n=_e.slice(0),i=new s({html:n},t,r);return _this.emit("writeln",i),i.intercepted?i.returnValue:i.target.apply(i.that,i.data.html)})}},{key:"overrideDocumentURI",value:function overrideDocumentURI(){var _this=this;this.ctx.overrideDescriptor(this.docProto,"documentURI",{get:function(t,r){var e=new s({value:t.call(r)},t,r);return _this.emit("documentURI",e),e.intercepted?e.returnValue:e.data.value}})}},{key:"overrideURL",value:function overrideURL(){var _this=this;this.ctx.overrideDescriptor(this.docProto,"URL",{get:function(t,r){var e=new s({value:t.call(r)},t,r);return _this.emit("url",e),e.intercepted?e.returnValue:e.data.value}})}},{key:"overrideCookie",value:function overrideCookie(){var _this=this;this.ctx.overrideDescriptor(this.docProto,"cookie",{get:function(t,r){var e=new s({value:t.call(r)},t,r);return _this.emit("getCookie",e),e.intercepted?e.returnValue:e.data.value},set:function(t,r,param){var _param=_sliced_to_array(param,1),e=_param[0];var n=new s({value:e},t,r);return _this.emit("setCookie",n),n.intercepted?n.returnValue:n.target.call(n.that,n.data.value)}})}},{key:"overrideTitle",value:function overrideTitle(){var _this=this;this.ctx.overrideDescriptor(this.docProto,"title",{get:function(t,r){var e=new s({value:t.call(r)},t,r);return _this.emit("getTitle",e),e.intercepted?e.returnValue:e.data.value},set:function(t,r,param){var _param=_sliced_to_array(param,1),e=_param[0];var n=new s({value:e},t,r);return _this.emit("setTitle",n),n.intercepted?n.returnValue:n.target.call(n.that,n.data.value)}})}}]);return x}(Y.default),Z=x;var $=p(c(),1);var b=function(_$_default){_inherits(b,_$_default);var _super=_create_super(b);function b(t){_class_call_check(this,b);var _this;_this=_super.call(this),_this.ctx=t,_this.window=t.window,_this.Audio=_this.window.Audio,_this.Element=_this.window.Element,_this.elemProto=_this.Element?_this.Element.prototype:{},_this.innerHTML=t.nativeMethods.getOwnPropertyDescriptor(_this.elemProto,"innerHTML"),_this.outerHTML=t.nativeMethods.getOwnPropertyDescriptor(_this.elemProto,"outerHTML"),_this.setAttribute=_this.elemProto.setAttribute,_this.getAttribute=_this.elemProto.getAttribute,_this.removeAttribute=_this.elemProto.removeAttribute,_this.hasAttribute=_this.elemProto.hasAttribute,_this.querySelector=_this.elemProto.querySelector,_this.querySelectorAll=_this.elemProto.querySelectorAll,_this.insertAdjacentHTML=_this.elemProto.insertAdjacentHTML,_this.insertAdjacentText=_this.elemProto.insertAdjacentText;return _possible_constructor_return(_this)}_create_class(b,[{key:"overrideQuerySelector",value:function overrideQuerySelector(){var _this=this;this.ctx.override(this.elemProto,"querySelector",function(t,r,e){if(!e.length)return t.apply(r,e);var _e=_sliced_to_array(e,1),n=_e[0],i=new s({selectors:n},t,r);return _this.emit("querySelector",i),i.intercepted?i.returnValue:i.target.call(i.that,i.data.selectors)})}},{key:"overrideAttribute",value:function overrideAttribute(){var _this=this;this.ctx.override(this.elemProto,"getAttribute",function(t,r,e){if(!e.length)return t.apply(r,e);var _e=_sliced_to_array(e,1),n=_e[0],i=new s({name:n},t,r);return _this.emit("getAttribute",i),i.intercepted?i.returnValue:i.target.call(i.that,i.data.name)}),this.ctx.override(this.elemProto,"setAttribute",function(t,r,e){if(2>e.length)return t.apply(r,e);var _e=_sliced_to_array(e,2),n=_e[0],i=_e[1],o=new s({name:n,value:i},t,r);return _this.emit("setAttribute",o),o.intercepted?o.returnValue:o.target.call(o.that,o.data.name,o.data.value)}),this.ctx.override(this.elemProto,"hasAttribute",function(t,r,e){if(!e.length)return t.apply(r,e);var _e=_sliced_to_array(e,1),n=_e[0],i=new s({name:n},t,r);return _this.emit("hasAttribute",i),i.intercepted?i.returnValue:i.target.call(i.that,i.data.name)}),this.ctx.override(this.elemProto,"removeAttribute",function(t,r,e){if(!e.length)return t.apply(r,e);var _e=_sliced_to_array(e,1),n=_e[0],i=new s({name:n},t,r);return _this.emit("removeAttribute",i),i.intercepted?i.returnValue:i.target.call(i.that,i.data.name)})}},{key:"overrideAudio",value:function overrideAudio(){var _this=this;this.ctx.override(this.window,"Audio",function(t,r,e){if(!e.length)return _construct(t,_to_consumable_array(e));var _e=_sliced_to_array(e,1),n=_e[0],i=new s({url:n},t,r);return _this.emit("audio",i),i.intercepted?i.returnValue:new i.target(i.data.url)},!0)}},{key:"overrideHtml",value:function overrideHtml(){var _this=this;this.hookProperty(this.Element,"innerHTML",{get:function(t,r){var e=new s({value:t.call(r)},t,r);return _this.emit("getInnerHTML",e),e.intercepted?e.returnValue:e.data.value},set:function(t,r,param){var _param=_sliced_to_array(param,1),e=_param[0];var n=new s({value:e},t,r);if(_this.emit("setInnerHTML",n),n.intercepted)return n.returnValue;t.call(r,n.data.value)}}),this.hookProperty(this.Element,"outerHTML",{get:function(t,r){var e=new s({value:t.call(r)},t,r);return _this.emit("getOuterHTML",e),e.intercepted?e.returnValue:e.data.value},set:function(t,r,param){var _param=_sliced_to_array(param,1),e=_param[0];var n=new s({value:e},t,r);if(_this.emit("setOuterHTML",n),n.intercepted)return n.returnValue;t.call(r,n.data.value)}})}},{key:"overrideInsertAdjacentHTML",value:function overrideInsertAdjacentHTML(){var _this=this;this.ctx.override(this.elemProto,"insertAdjacentHTML",function(t,r,e){if(2>e.length)return t.apply(r,e);var _e=_sliced_to_array(e,2),n=_e[0],i=_e[1],o=new s({position:n,html:i},t,r);return _this.emit("insertAdjacentHTML",o),o.intercepted?o.returnValue:o.target.call(o.that,o.data.position,o.data.html)})}},{key:"overrideInsertAdjacentText",value:function overrideInsertAdjacentText(){var _this=this;this.ctx.override(this.elemProto,"insertAdjacentText",function(t,r,e){if(2>e.length)return t.apply(r,e);var _e=_sliced_to_array(e,2),n=_e[0],i=_e[1],o=new s({position:n,text:i},t,r);return _this.emit("insertAdjacentText",o),o.intercepted?o.returnValue:o.target.call(o.that,o.data.position,o.data.text)})}},{key:"hookProperty",value:function hookProperty(t,r,e){if(!t)return!1;if(this.ctx.nativeMethods.isArray(t)){var _iteratorNormalCompletion=true,_didIteratorError=false,_iteratorError=undefined;try{for(var _iterator=t[Symbol.iterator](),_step;!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=true){var i=_step.value;this.hookProperty(i,r,e)}}catch(err){_didIteratorError=true;_iteratorError=err}finally{try{if(!_iteratorNormalCompletion&&_iterator.return!=null){_iterator.return()}}finally{if(_didIteratorError){throw _iteratorError}}}return!0}var n=t.prototype;return this.ctx.overrideDescriptor(n,r,e),!0}}]);return b}($.default),ee=b;var te=p(c(),1);var L=function(_te_default){_inherits(L,_te_default);var _super=_create_super(L);function L(t){_class_call_check(this,L);var _this;_this=_super.call(this),_this.ctx=t,_this.window=t.window,_this.Node=t.window.Node||{},_this.nodeProto=_this.Node.prototype||{},_this.compareDocumentPosition=_this.nodeProto.compareDocumentPosition,_this.contains=_this.nodeProto.contains,_this.insertBefore=_this.nodeProto.insertBefore,_this.replaceChild=_this.nodeProto.replaceChild,_this.append=_this.nodeProto.append,_this.appendChild=_this.nodeProto.appendChild,_this.removeChild=_this.nodeProto.removeChild,_this.textContent=t.nativeMethods.getOwnPropertyDescriptor(_this.nodeProto,"textContent"),_this.parentNode=t.nativeMethods.getOwnPropertyDescriptor(_this.nodeProto,"parentNode"),_this.parentElement=t.nativeMethods.getOwnPropertyDescriptor(_this.nodeProto,"parentElement"),_this.childNodes=t.nativeMethods.getOwnPropertyDescriptor(_this.nodeProto,"childNodes"),_this.baseURI=t.nativeMethods.getOwnPropertyDescriptor(_this.nodeProto,"baseURI"),_this.previousSibling=t.nativeMethods.getOwnPropertyDescriptor(_this.nodeProto,"previousSibling"),_this.ownerDocument=t.nativeMethods.getOwnPropertyDescriptor(_this.nodeProto,"ownerDocument");return _possible_constructor_return(_this)}_create_class(L,[{key:"overrideTextContent",value:function overrideTextContent(){var _this=this;this.ctx.overrideDescriptor(this.nodeProto,"textContent",{get:function(t,r){var e=new s({value:t.call(r)},t,r);return _this.emit("getTextContent",e),e.intercepted?e.returnValue:e.data.value},set:function(t,r,param){var _param=_sliced_to_array(param,1),e=_param[0];var n=new s({value:e},t,r);if(_this.emit("setTextContent",n),n.intercepted)return n.returnValue;t.call(r,n.data.value)}})}},{key:"overrideAppend",value:function overrideAppend(){var _this=this;this.ctx.override(this.nodeProto,"append",function(t,r,param){var _param=_to_array(param),e=_param.slice(0);var n=new s({nodes:e},t,r);return _this.emit("append",n),n.intercepted?n.returnValue:n.target.call(n.that,n.data.nodes)}),this.ctx.override(this.nodeProto,"appendChild",function(t,r,e){if(!e.length)return t.apply(r,e);var _e=_sliced_to_array(e,1),n=_e[0],i=new s({node:n},t,r);return _this.emit("appendChild",i),i.intercepted?i.returnValue:i.target.call(i.that,i.data.node)})}},{key:"overrideBaseURI",value:function overrideBaseURI(){var _this=this;this.ctx.overrideDescriptor(this.nodeProto,"baseURI",{get:function(t,r){var e=new s({value:t.call(r)},t,r);return _this.emit("baseURI",e),e.intercepted?e.returnValue:e.data.value}})}},{key:"overrideParent",value:function overrideParent(){var _this=this;this.ctx.overrideDescriptor(this.nodeProto,"parentNode",{get:function(t,r){var e=new s({node:t.call(r)},t,r);return _this.emit("parentNode",e),e.intercepted?e.returnValue:e.data.node}}),this.ctx.overrideDescriptor(this.nodeProto,"parentElement",{get:function(t,r){var e=new s({element:t.call(r)},t,r);return _this.emit("parentElement",e),e.intercepted?e.returnValue:e.data.node}})}},{key:"overrideOwnerDocument",value:function overrideOwnerDocument(){var _this=this;this.ctx.overrideDescriptor(this.nodeProto,"ownerDocument",{get:function(t,r){var e=new s({document:t.call(r)},t,r);return _this.emit("ownerDocument",e),e.intercepted?e.returnValue:e.data.document}})}},{key:"overrideCompareDocumentPosit1ion",value:function overrideCompareDocumentPosit1ion(){this.ctx.override(this.nodeProto,"compareDocumentPosition",function(t,r,e){if(!e.length)return t.apply(r,e);var _e=_sliced_to_array(e,1),n=_e[0],i=new s({node:n},t,r);return i.intercepted?i.returnValue:i.target.call(i.that,i.data.node)})}},{key:"overrideChildMethods",value:function overrideChildMethods(){this.ctx.override(this.nodeProto,"removeChild")}}]);return L}(te.default),re=L;var ie=p(c(),1);var O=function(_ie_default){_inherits(O,_ie_default);var _super=_create_super(O);function O(t){_class_call_check(this,O);var _this;_this=_super.call(this),_this.ctx=t,_this.window=t.window,_this.Attr=_this.window.Attr||{},_this.attrProto=_this.Attr.prototype||{},_this.value=t.nativeMethods.getOwnPropertyDescriptor(_this.attrProto,"value"),_this.name=t.nativeMethods.getOwnPropertyDescriptor(_this.attrProto,"name"),_this.getNamedItem=_this.attrProto.getNamedItem||null,_this.setNamedItem=_this.attrProto.setNamedItem||null,_this.removeNamedItem=_this.attrProto.removeNamedItem||null,_this.getNamedItemNS=_this.attrProto.getNamedItemNS||null,_this.setNamedItemNS=_this.attrProto.setNamedItemNS||null,_this.removeNamedItemNS=_this.attrProto.removeNamedItemNS||null,_this.item=_this.attrProto.item||null;return _possible_constructor_return(_this)}_create_class(O,[{key:"overrideNameValue",value:function overrideNameValue(){var _this=this;this.ctx.overrideDescriptor(this.attrProto,"name",{get:function(t,r){var e=new s({value:t.call(r)},t,r);return _this.emit("name",e),e.intercepted?e.returnValue:e.data.value}}),this.ctx.overrideDescriptor(this.attrProto,"value",{get:function(t,r){var e=new s({name:_this.name.get.call(r),value:t.call(r)},t,r);return _this.emit("getValue",e),e.intercepted?e.returnValue:e.data.value},set:function(t,r,param){var _param=_sliced_to_array(param,1),e=_param[0];var n=new s({name:_this.name.get.call(r),value:e},t,r);if(_this.emit("setValue",n),n.intercepted)return n.returnValue;n.target.call(n.that,n.data.value)}})}},{key:"overrideItemMethods",value:function overrideItemMethods(){var _this=this;this.ctx.override(this.attrProto,"getNamedItem",function(t,r,e){if(!e.length)return t.apply(r,e);var _e=_sliced_to_array(e,1),n=_e[0],i=new s({name:n},t,r);return _this.emit("getNamedItem",i),i.intercepted?i.returnValue:i.target.call(i.that,i.data.name)}),this.ctx.override(this.attrProto,"setNamedItem",function(t,r,e){if(2>e.length)return t.apply(r,e);var _e=_sliced_to_array(e,2),n=_e[0],i=_e[1],o=new s({name:n,value:i},t,r);return _this.emit("setNamedItem",o),o.intercepted?o.returnValue:o.target.call(o.that,o.data.name,o.data.value)}),this.ctx.override(this.attrProto,"removeNamedItem",function(t,r,e){if(!e.length)return t.apply(r,e);var _e=_sliced_to_array(e,1),n=_e[0],i=new s({name:n},t,r);return _this.emit("removeNamedItem",i),i.intercepted?i.returnValue:i.target.call(i.that,i.data.name)}),this.ctx.override(this.attrProto,"item",function(t,r,e){if(!e.length)return t.apply(r,e);var _e=_sliced_to_array(e,1),n=_e[0],i=new s({index:n},t,r);return _this.emit("item",i),i.intercepted?i.returnValue:i.target.call(i.that,i.data.name)}),this.ctx.override(this.attrProto,"getNamedItemNS",function(t,r,e){if(2>e.length)return t.apply(r,e);var _e=_sliced_to_array(e,2),n=_e[0],i=_e[1],o=new s({namespace:n,localName:i},t,r);return _this.emit("getNamedItemNS",o),o.intercepted?o.returnValue:o.target.call(o.that,o.data.namespace,o.data.localName)}),this.ctx.override(this.attrProto,"setNamedItemNS",function(t,r,e){if(!e.length)return t.apply(r,e);var _e=_sliced_to_array(e,1),n=_e[0],i=new s({attr:n},t,r);return _this.emit("setNamedItemNS",i),i.intercepted?i.returnValue:i.target.call(i.that,i.data.name)}),this.ctx.override(this.attrProto,"removeNamedItemNS",function(t,r,e){if(2>e.length)return t.apply(r,e);var _e=_sliced_to_array(e,2),n=_e[0],i=_e[1],o=new s({namespace:n,localName:i},t,r);return _this.emit("removeNamedItemNS",o),o.intercepted?o.returnValue:o.target.call(o.that,o.data.namespace,o.data.localName)})}}]);return O}(ie.default),ne=O;var oe=p(c(),1);var M=function(_oe_default){_inherits(M,_oe_default);var _super=_create_super(M);function M(t){_class_call_check(this,M);var _this;_this=_super.call(this),_this.ctx=t,_this.window=t.window,_this.Function=_this.window.Function,_this.fnProto=_this.Function.prototype,_this.toString=_this.fnProto.toString,_this.fnStrings=t.fnStrings,_this.call=_this.fnProto.call,_this.apply=_this.fnProto.apply,_this.bind=_this.fnProto.bind;return _possible_constructor_return(_this)}_create_class(M,[{key:"overrideFunction",value:function overrideFunction(){var _this=this;this.ctx.override(this.window,"Function",function(t,r,e){var _o_target;if(!e.length)return t.apply(r,e);var n=e[e.length-1],i=[];for(var l=0;l<e.length-1;l++)i.push(e[l]);var o=new s({script:n,args:i},t,r);return _this.emit("function",o),o.intercepted?o.returnValue:(_o_target=o.target).call.apply(_o_target,[o.that].concat(_to_consumable_array(o.data.args),[o.data.script]))},!0)}},{key:"overrideToString",value:function overrideToString(){var _this=this;this.ctx.override(this.fnProto,"toString",function(t,r){var e=new s({fn:r},t,r);return _this.emit("toString",e),e.intercepted?e.returnValue:e.target.call(e.data.fn)})}}]);return M}(oe.default),se=M;var ae=p(c(),1);var E=function(_ae_default){_inherits(E,_ae_default);var _super=_create_super(E);function E(t){_class_call_check(this,E);var _this;_this=_super.call(this),_this.ctx=t,_this.window=t.window,_this.Object=_this.window.Object,_this.getOwnPropertyDescriptors=_this.Object.getOwnPropertyDescriptors,_this.getOwnPropertyDescriptor=_this.Object.getOwnPropertyDescriptor,_this.getOwnPropertyNames=_this.Object.getOwnPropertyNames;return _possible_constructor_return(_this)}_create_class(E,[{key:"overrideGetPropertyNames",value:function overrideGetPropertyNames(){var _this=this;this.ctx.override(this.Object,"getOwnPropertyNames",function(t,r,e){if(!e.length)return t.apply(r,e);var _e=_sliced_to_array(e,1),n=_e[0],i=new s({names:t.call(r,n)},t,r);return _this.emit("getOwnPropertyNames",i),i.intercepted?i.returnValue:i.data.names})}},{key:"overrideGetOwnPropertyDescriptors",value:function overrideGetOwnPropertyDescriptors(){var _this=this;this.ctx.override(this.Object,"getOwnPropertyDescriptors",function(t,r,e){if(!e.length)return t.apply(r,e);var _e=_sliced_to_array(e,1),n=_e[0],i=new s({descriptors:t.call(r,n)},t,r);return _this.emit("getOwnPropertyDescriptors",i),i.intercepted?i.returnValue:i.data.descriptors})}}]);return E}(ae.default),le=E;var he=p(c(),1);var S=function(_he_default){_inherits(S,_he_default);var _super=_create_super(S);function S(t){_class_call_check(this,S);var _this;_this=_super.call(this),_this.ctx=t,_this.window=t.window,_this.fetch=_this.window.fetch,_this.Request=_this.window.Request,_this.Response=_this.window.Response,_this.Headers=_this.window.Headers,_this.reqProto=_this.Request?_this.Request.prototype:{},_this.resProto=_this.Response?_this.Response.prototype:{},_this.headersProto=_this.Headers?_this.Headers.prototype:{},_this.reqUrl=t.nativeMethods.getOwnPropertyDescriptor(_this.reqProto,"url"),_this.resUrl=t.nativeMethods.getOwnPropertyDescriptor(_this.resProto,"url"),_this.reqHeaders=t.nativeMethods.getOwnPropertyDescriptor(_this.reqProto,"headers"),_this.resHeaders=t.nativeMethods.getOwnPropertyDescriptor(_this.resProto,"headers");return _possible_constructor_return(_this)}_create_class(S,[{key:"override",value:function override(){return this.overrideRequest(),this.overrideUrl(),this.overrideHeaders(),!0}},{key:"overrideRequest",value:function overrideRequest(){var _this=this;return this.fetch?(this.ctx.override(this.window,"fetch",function(t,r,e){if(!e.length||_instanceof(e[0],_this.Request))return t.apply(r,e);var _e=_sliced_to_array(e,2),n=_e[0],tmp=_e[1],i=tmp===void 0?{}:tmp,o=new s({input:n,options:i},t,r);return _this.emit("request",o),o.intercepted?o.returnValue:o.target.call(o.that,o.data.input,o.data.options)}),this.ctx.override(this.window,"Request",function(t,r,e){if(!e.length)return _construct(t,_to_consumable_array(e));var _e=_sliced_to_array(e,2),n=_e[0],tmp=_e[1],i=tmp===void 0?{}:tmp,o=new s({input:n,options:i},t);return _this.emit("request",o),o.intercepted?o.returnValue:new o.target(o.data.input,o.data.options)},!0),!0):!1}},{key:"overrideUrl",value:function overrideUrl(){var _this=this;return this.ctx.overrideDescriptor(this.reqProto,"url",{get:function(t,r){var e=new s({value:t.call(r)},t,r);return _this.emit("requestUrl",e),e.intercepted?e.returnValue:e.data.value}}),this.ctx.overrideDescriptor(this.resProto,"url",{get:function(t,r){var e=new s({value:t.call(r)},t,r);return _this.emit("responseUrl",e),e.intercepted?e.returnValue:e.data.value}}),!0}},{key:"overrideHeaders",value:function overrideHeaders(){var _this=this;return this.Headers?(this.ctx.overrideDescriptor(this.reqProto,"headers",{get:function(t,r){var e=new s({value:t.call(r)},t,r);return _this.emit("requestHeaders",e),e.intercepted?e.returnValue:e.data.value}}),this.ctx.overrideDescriptor(this.resProto,"headers",{get:function(t,r){var e=new s({value:t.call(r)},t,r);return _this.emit("responseHeaders",e),e.intercepted?e.returnValue:e.data.value}}),this.ctx.override(this.headersProto,"get",function(t,r,param){var _param=_sliced_to_array(param,1),e=_param[0];if(!e)return t.call(r);var n=new s({name:e,value:t.call(r,e)},t,r);return _this.emit("getHeader",n),n.intercepted?n.returnValue:n.data.value}),this.ctx.override(this.headersProto,"set",function(t,r,e){if(2>e.length)return t.apply(r,e);var _e=_sliced_to_array(e,2),n=_e[0],i=_e[1],o=new s({name:n,value:i},t,r);return _this.emit("setHeader",o),o.intercepted?o.returnValue:o.target.call(o.that,o.data.name,o.data.value)}),this.ctx.override(this.headersProto,"has",function(t,r,e){if(!e.length)return t.call(r);var _e=_sliced_to_array(e,1),n=_e[0],i=new s({name:n,value:t.call(r,n)},t,r);return _this.emit("hasHeader",i),i.intercepted?i.returnValue:i.data}),this.ctx.override(this.headersProto,"append",function(t,r,e){if(2>e.length)return t.apply(r,e);var _e=_sliced_to_array(e,2),n=_e[0],i=_e[1],o=new s({name:n,value:i},t,r);return _this.emit("appendHeader",o),o.intercepted?o.returnValue:o.target.call(o.that,o.data.name,o.data.value)}),this.ctx.override(this.headersProto,"delete",function(t,r,e){if(!e.length)return t.apply(r,e);var _e=_sliced_to_array(e,1),n=_e[0],i=new s({name:n},t,r);return _this.emit("deleteHeader",i),i.intercepted?i.returnValue:i.target.call(i.that,i.data.name)}),!0):!1}}]);return S}(he.default),ue=S;var de=p(c(),1);var D=function(_de_default){_inherits(D,_de_default);var _super=_create_super(D);function D(t){_class_call_check(this,D);var _this;_this=_super.call(this),_this.ctx=t,_this.window=t.window,_this.XMLHttpRequest=_this.window.XMLHttpRequest,_this.xhrProto=_this.window.XMLHttpRequest?_this.window.XMLHttpRequest.prototype:{},_this.open=_this.xhrProto.open,_this.abort=_this.xhrProto.abort,_this.send=_this.xhrProto.send,_this.overrideMimeType=_this.xhrProto.overrideMimeType,_this.getAllResponseHeaders=_this.xhrProto.getAllResponseHeaders,_this.getResponseHeader=_this.xhrProto.getResponseHeader,_this.setRequestHeader=_this.xhrProto.setRequestHeader,_this.responseURL=t.nativeMethods.getOwnPropertyDescriptor(_this.xhrProto,"responseURL"),_this.responseText=t.nativeMethods.getOwnPropertyDescriptor(_this.xhrProto,"responseText");return _possible_constructor_return(_this)}_create_class(D,[{key:"override",value:function override(){this.overrideOpen(),this.overrideSend(),this.overrideMimeType(),this.overrideGetResHeader(),this.overrideGetResHeaders(),this.overrideSetReqHeader()}},{key:"overrideOpen",value:function overrideOpen(){var _this=this;this.ctx.override(this.xhrProto,"open",function(t,r,e){if(2>e.length)return t.apply(r,e);var _e=_sliced_to_array(e,5),n=_e[0],i=_e[1],tmp=_e[2],o=tmp===void 0?!0:tmp,tmp1=_e[3],l=tmp1===void 0?null:tmp1,tmp2=_e[4],u=tmp2===void 0?null:tmp2,d=new s({method:n,input:i,async:o,user:l,password:u},t,r);return _this.emit("open",d),d.intercepted?d.returnValue:d.target.call(d.that,d.data.method,d.data.input,d.data.async,d.data.user,d.data.password)})}},{key:"overrideResponseUrl",value:function overrideResponseUrl(){var _this=this;this.ctx.overrideDescriptor(this.xhrProto,"responseURL",{get:function(t,r){var e=new s({value:t.call(r)},t,r);return _this.emit("responseUrl",e),e.intercepted?e.returnValue:e.data.value}})}},{key:"overrideSend",value:function overrideSend(){var _this=this;this.ctx.override(this.xhrProto,"send",function(t,r,param){var _param=_sliced_to_array(param,1),tmp=_param[0],e=tmp===void 0?null:tmp;var n=new s({body:e},t,r);return _this.emit("send",n),n.intercepted?n.returnValue:n.target.call(n.that,n.data.body)})}},{key:"overrideSetReqHeader",value:function overrideSetReqHeader(){var _this=this;this.ctx.override(this.xhrProto,"setRequestHeader",function(t,r,e){if(2>e.length)return t.apply(r,e);var _e=_sliced_to_array(e,2),n=_e[0],i=_e[1],o=new s({name:n,value:i},t,r);return _this.emit("setReqHeader",o),o.intercepted?o.returnValue:o.target.call(o.that,o.data.name,o.data.value)})}},{key:"overrideGetResHeaders",value:function overrideGetResHeaders(){var _this=this;this.ctx.override(this.xhrProto,"getAllResponseHeaders",function(t,r){var e=new s({value:t.call(r)},t,r);return _this.emit("getAllResponseHeaders",e),e.intercepted?e.returnValue:e.data.value})}},{key:"overrideGetResHeader",value:function overrideGetResHeader(){this.ctx.override(this.xhrProto,"getResponseHeader",function(t,r,e){if(!e.length)return t.apply(r,e);var _e=_sliced_to_array(e,1),n=_e[0],i=new s({name:n,value:t.call(r,n)},t,r);return i.intercepted?i.returnValue:i.data.value})}}]);return D}(de.default),ce=D;var pe=p(c(),1);var V=function(_pe_default){_inherits(V,_pe_default);var _super=_create_super(V);function V(t){_class_call_check(this,V);var _this;_this=_super.call(this),_this.ctx=t,_this.window=t.window,_this.EventSource=_this.window.EventSource||{},_this.esProto=_this.EventSource.prototype||{},_this.url=t.nativeMethods.getOwnPropertyDescriptor(_this.esProto,"url"),_this.CONNECTING=0,_this.OPEN=1,_this.CLOSED=2;return _possible_constructor_return(_this)}_create_class(V,[{key:"overrideConstruct",value:function overrideConstruct(){var _this=this;this.ctx.override(this.window,"EventSource",function(t,r,e){if(!e.length)return _construct(t,_to_consumable_array(e));var _e=_sliced_to_array(e,2),n=_e[0],tmp=_e[1],i=tmp===void 0?{}:tmp,o=new s({url:n,config:i},t,r);return _this.emit("construct",o),o.intercepted?o.returnValue:new o.target(o.data.url,o.data.config)},!0),"EventSource"in this.window&&(this.window.EventSource.CONNECTING=this.CONNECTING,this.window.EventSource.OPEN=this.OPEN,this.window.EventSource.CLOSED=this.CLOSED)}},{key:"overrideUrl",value:function overrideUrl(){var _this=this;this.ctx.overrideDescriptor(this.esProto,"url",{get:function(t,r){var e=new s({value:t.call(r)},t,r);return _this.emit("url",e),e.data.value}})}}]);return V}(pe.default),ve=V;var me=p(c(),1);var k=function(_me_default){_inherits(k,_me_default);var _super=_create_super(k);function k(t){_class_call_check(this,k);var _this;_this=_super.call(this),_this.ctx=t,_this.window=_this.ctx.window,_this.History=_this.window.History,_this.history=_this.window.history,_this.historyProto=_this.History?_this.History.prototype:{},_this.pushState=_this.historyProto.pushState,_this.replaceState=_this.historyProto.replaceState,_this.go=_this.historyProto.go,_this.back=_this.historyProto.back,_this.forward=_this.historyProto.forward;return _possible_constructor_return(_this)}_create_class(k,[{key:"override",value:function override(){this.overridePushState(),this.overrideReplaceState(),this.overrideGo(),this.overrideForward(),this.overrideBack()}},{key:"overridePushState",value:function overridePushState(){var _this=this;this.ctx.override(this.historyProto,"pushState",function(t,r,e){if(2>e.length)return t.apply(r,e);var _e=_sliced_to_array(e,3),n=_e[0],i=_e[1],tmp=_e[2],o=tmp===void 0?"":tmp,l=new s({state:n,title:i,url:o},t,r);return _this.emit("pushState",l),l.intercepted?l.returnValue:l.target.call(l.that,l.data.state,l.data.title,l.data.url)})}},{key:"overrideReplaceState",value:function overrideReplaceState(){var _this=this;this.ctx.override(this.historyProto,"replaceState",function(t,r,e){if(2>e.length)return t.apply(r,e);var _e=_sliced_to_array(e,3),n=_e[0],i=_e[1],tmp=_e[2],o=tmp===void 0?"":tmp,l=new s({state:n,title:i,url:o},t,r);return _this.emit("replaceState",l),l.intercepted?l.returnValue:l.target.call(l.that,l.data.state,l.data.title,l.data.url)})}},{key:"overrideGo",value:function overrideGo(){var _this=this;this.ctx.override(this.historyProto,"go",function(t,r,param){var _param=_sliced_to_array(param,1),e=_param[0];var n=new s({delta:e},t,r);return _this.emit("go",n),n.intercepted?n.returnValue:n.target.call(n.that,n.data.delta)})}},{key:"overrideForward",value:function overrideForward(){var _this=this;this.ctx.override(this.historyProto,"forward",function(t,r){var e=new s(null,t,r);return _this.emit("forward",e),e.intercepted?e.returnValue:e.target.call(e.that)})}},{key:"overrideBack",value:function overrideBack(){var _this=this;this.ctx.override(this.historyProto,"back",function(t,r){var e=new s(null,t,r);return _this.emit("back",e),e.intercepted?e.returnValue:e.target.call(e.that)})}}]);return k}(me.default),fe=k;var we=p(c(),1),R=function(_we_default){_inherits(R,_we_default);var _super=_create_super(R);function R(t){_class_call_check(this,R);var _this;_this=_super.call(this),_this.ctx=t,_this.window=t.window,_this.location=_this.window.location,_this.WorkerLocation=_this.ctx.worker?_this.window.WorkerLocation:null,_this.workerLocProto=_this.WorkerLocation?_this.WorkerLocation.prototype:{},_this.keys=["href","protocol","host","hostname","port","pathname","search","hash","origin"],_this.HashChangeEvent=_this.window.HashChangeEvent||null,_this.href=_this.WorkerLocation?t.nativeMethods.getOwnPropertyDescriptor(_this.workerLocProto,"href"):t.nativeMethods.getOwnPropertyDescriptor(_this.location,"href");return _possible_constructor_return(_this)}_create_class(R,[{key:"overrideWorkerLocation",value:function overrideWorkerLocation(t){var _this=this;if(!this.WorkerLocation)return!1;var r=this;var _iteratorNormalCompletion=true,_didIteratorError=false,_iteratorError=undefined;try{var _this1=this,_loop=function(){var e=_step.value;_this1.ctx.overrideDescriptor(_this1.workerLocProto,e,{get:function(){return t(r.href.get.call(_this.location))[e]}})};for(var _iterator=this.keys[Symbol.iterator](),_step;!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=true)_loop()}catch(err){_didIteratorError=true;_iteratorError=err}finally{try{if(!_iteratorNormalCompletion&&_iterator.return!=null){_iterator.return()}}finally{if(_didIteratorError){throw _iteratorError}}}return!0}},{key:"emulate",value:function emulate(t,r){var _this=this;var e={},n=this;var _iteratorNormalCompletion=true,_didIteratorError=false,_iteratorError=undefined;try{var _this1=this,_loop=function(){var i=_step.value;_this1.ctx.nativeMethods.defineProperty(e,i,{get:function get(){return t(n.href.get.call(n.location))[i]},set:i!=="origin"?function(o){switch(i){case"href":n.location.href=r(o);break;case"hash":n.emit("hashchange",e.href,o.trim().startsWith("#")?new URL(o.trim(),e.href).href:new URL("#"+o.trim(),e.href).href,n);break;default:{var l=new URL(e.href);l[i]=o,n.location.href=r(l.href)}break}}:void 0,configurable:!1,enumerable:!0})};for(var _iterator=n.keys[Symbol.iterator](),_step;!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=true)_loop()}catch(err){_didIteratorError=true;_iteratorError=err}finally{try{if(!_iteratorNormalCompletion&&_iterator.return!=null){_iterator.return()}}finally{if(_didIteratorError){throw _iteratorError}}}return"reload"in this.location&&this.ctx.nativeMethods.defineProperty(e,"reload",{value:this.ctx.wrap(this.location,"reload",function(i,o){return i.call(o===e?_this.location:o)}),writable:!1,enumerable:!0}),"replace"in this.location&&this.ctx.nativeMethods.defineProperty(e,"replace",{value:this.ctx.wrap(this.location,"assign",function(i,o,l){(!l.length||o!==e)&&i.call(o),o=_this.location;var _l=_sliced_to_array(l,1),u=_l[0],d=new URL(u,e.href);return i.call(o===e?_this.location:o,r(d.href))}),writable:!1,enumerable:!0}),"assign"in this.location&&this.ctx.nativeMethods.defineProperty(e,"assign",{value:this.ctx.wrap(this.location,"assign",function(i,o,l){(!l.length||o!==e)&&i.call(o),o=_this.location;var _l=_sliced_to_array(l,1),u=_l[0],d=new URL(u,e.href);return i.call(o===e?_this.location:o,r(d.href))}),writable:!1,enumerable:!0}),"ancestorOrigins"in this.location&&this.ctx.nativeMethods.defineProperty(e,"ancestorOrigins",{get:function get(){var i=[];return n.window.DOMStringList&&n.ctx.nativeMethods.setPrototypeOf(i,n.window.DOMStringList.prototype),i},set:void 0,enumerable:!0}),this.ctx.nativeMethods.defineProperty(e,"toString",{value:this.ctx.wrap(this.location,"toString",function(){return e.href}),enumerable:!0,writable:!1}),this.ctx.nativeMethods.defineProperty(e,Symbol.toPrimitive,{value:function(){return e.href},writable:!1,enumerable:!1}),this.ctx.window.Location&&this.ctx.nativeMethods.setPrototypeOf(e,this.ctx.window.Location.prototype),e}}]);return R}(we.default),N=R;var ye=p(c(),1);var I=function(_ye_default){_inherits(I,_ye_default);var _super=_create_super(I);function I(t){_class_call_check(this,I);var _this;_this=_super.call(this),_this.ctx=t,_this.window=_this.ctx.window,_this.postMessage=_this.window.postMessage,_this.MessageEvent=_this.window.MessageEvent||{},_this.MessagePort=_this.window.MessagePort||{},_this.mpProto=_this.MessagePort.prototype||{},_this.mpPostMessage=_this.mpProto.postMessage,_this.messageProto=_this.MessageEvent.prototype||{},_this.messageData=t.nativeMethods.getOwnPropertyDescriptor(_this.messageProto,"data"),_this.messageOrigin=t.nativeMethods.getOwnPropertyDescriptor(_this.messageProto,"origin");return _possible_constructor_return(_this)}_create_class(I,[{key:"overridePostMessage",value:function overridePostMessage(){var _this=this;this.ctx.override(this.window,"postMessage",function(t,r,e){if(!e.length)return t.apply(r,e);var n,i,o;var ref,ref1,ref2,ref3;_this.ctx.worker?(ref=_sliced_to_array(e,2),n=ref[0],ref1=ref[1],o=ref1===void 0?[]:ref1,ref):(ref2=_sliced_to_array(e,3),n=ref2[0],i=ref2[1],ref3=ref2[2],o=ref3===void 0?[]:ref3,ref2);var l=new s({message:n,origin:i,transfer:o,worker:_this.ctx.worker},t,r);return _this.emit("postMessage",l),l.intercepted?l.returnValue:_this.ctx.worker?l.target.call(l.that,l.data.message,l.data.transfer):l.target.call(l.that,l.data.message,l.data.origin,l.data.transfer)})}},{key:"wrapPostMessage",value:function wrapPostMessage(t,r){var e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;var _this=this;return this.ctx.wrap(t,r,function(n,i,o){if(_this.ctx.worker?!o.length:2>o)return n.apply(i,o);var l,u,d;var ref,ref1,ref2,ref3;e?(ref=_sliced_to_array(o,2),l=ref[0],ref1=ref[1],d=ref1===void 0?[]:ref1,ref,u=null):(ref2=_sliced_to_array(o,3),l=ref2[0],u=ref2[1],ref3=ref2[2],d=ref3===void 0?[]:ref3,ref2);var v=new s({message:l,origin:u,transfer:d,worker:_this.ctx.worker},n,t);return _this.emit("postMessage",v),v.intercepted?v.returnValue:e?v.target.call(v.that,v.data.message,v.data.transfer):v.target.call(v.that,v.data.message,v.data.origin,v.data.transfer)})}},{key:"overrideMessageOrigin",value:function overrideMessageOrigin(){var _this=this;this.ctx.overrideDescriptor(this.messageProto,"origin",{get:function(t,r){var e=new s({value:t.call(r)},t,r);return _this.emit("origin",e),e.intercepted?e.returnValue:e.data.value}})}},{key:"overrideMessageData",value:function overrideMessageData(){var _this=this;this.ctx.overrideDescriptor(this.messageProto,"data",{get:function(t,r){var e=new s({value:t.call(r)},t,r);return _this.emit("data",e),e.intercepted?e.returnValue:e.data.value}})}}]);return I}(ye.default),Pe=I;var ge=p(c(),1);var H=function(_ge_default){_inherits(H,_ge_default);var _super=_create_super(H);function H(t){_class_call_check(this,H);var _this;_this=_super.call(this),_this.ctx=t,_this.window=t.window,_this.navigator=_this.window.navigator,_this.Navigator=_this.window.Navigator||{},_this.navProto=_this.Navigator.prototype||{},_this.sendBeacon=_this.navProto.sendBeacon;return _possible_constructor_return(_this)}_create_class(H,[{key:"overrideSendBeacon",value:function overrideSendBeacon(){var _this=this;this.ctx.override(this.navProto,"sendBeacon",function(t,r,e){if(!e.length)return t.apply(r,e);var _e=_sliced_to_array(e,2),n=_e[0],tmp=_e[1],i=tmp===void 0?"":tmp,o=new s({url:n,data:i},t,r);return _this.emit("sendBeacon",o),o.intercepted?o.returnValue:o.target.call(o.that,o.data.url,o.data.data)})}}]);return H}(ge.default),xe=H;var be=p(c(),1);var A=function(_be_default){_inherits(A,_be_default);var _super=_create_super(A);function A(t){_class_call_check(this,A);var _this;_this=_super.call(this),_this.ctx=t,_this.window=t.window,_this.Worker=_this.window.Worker||{},_this.Worklet=_this.window.Worklet||{},_this.workletProto=_this.Worklet.prototype||{},_this.workerProto=_this.Worker.prototype||{},_this.postMessage=_this.workerProto.postMessage,_this.terminate=_this.workerProto.terminate,_this.addModule=_this.workletProto.addModule;return _possible_constructor_return(_this)}_create_class(A,[{key:"overrideWorker",value:function overrideWorker(){var _this=this;this.ctx.override(this.window,"Worker",function(t,r,e){if(!e.length)return _construct(t,_to_consumable_array(e));var _e=_sliced_to_array(e,2),n=_e[0],tmp=_e[1],i=tmp===void 0?{}:tmp,o=new s({url:n,options:i},t,r);return _this.emit("worker",o),o.intercepted?o.returnValue:new o.target(o.data.url,o.data.options)},!0)}},{key:"overrideAddModule",value:function overrideAddModule(){var _this=this;this.ctx.override(this.workletProto,"addModule",function(t,r,e){if(!e.length)return t.apply(r,e);var _e=_sliced_to_array(e,2),n=_e[0],tmp=_e[1],i=tmp===void 0?{}:tmp,o=new s({url:n,options:i},t,r);return _this.emit("addModule",o),o.intercepted?o.returnValue:o.target.call(o.that,o.data.url,o.data.options)})}},{key:"overridePostMessage",value:function overridePostMessage(){var _this=this;this.ctx.override(this.workerProto,"postMessage",function(t,r,e){if(!e.length)return t.apply(r,e);var _e=_sliced_to_array(e,2),n=_e[0],tmp=_e[1],i=tmp===void 0?[]:tmp,o=new s({message:n,transfer:i},t,r);return _this.emit("postMessage",o),o.intercepted?o.returnValue:o.target.call(o.that,o.data.message,o.data.transfer)})}},{key:"overrideImportScripts",value:function overrideImportScripts(){var _this=this;this.ctx.override(this.window,"importScripts",function(t,r,e){if(!e.length)return t.apply(r,e);var n=new s({scripts:e},t,r);return _this.emit("importScripts",n),n.intercepted?n.returnValue:n.target.apply(n.that,n.data.scripts)})}}]);return A}(be.default),Le=A;var Oe=p(c(),1);var C=function(_Oe_default){_inherits(C,_Oe_default);var _super=_create_super(C);function C(t){_class_call_check(this,C);var _this;_this=_super.call(this),_this.ctx=t,_this.window=_this.ctx.window,_this.URL=_this.window.URL||{},_this.createObjectURL=_this.URL.createObjectURL,_this.revokeObjectURL=_this.URL.revokeObjectURL;return _possible_constructor_return(_this)}_create_class(C,[{key:"overrideObjectURL",value:function overrideObjectURL(){var _this=this;this.ctx.override(this.URL,"createObjectURL",function(t,r,e){if(!e.length)return t.apply(r,e);var _e=_sliced_to_array(e,1),n=_e[0],i=new s({object:n},t,r);return _this.emit("createObjectURL",i),i.intercepted?i.returnValue:i.target.call(i.that,i.data.object)}),this.ctx.override(this.URL,"revokeObjectURL",function(t,r,e){if(!e.length)return t.apply(r,e);var _e=_sliced_to_array(e,1),n=_e[0],i=new s({url:n},t,r);return _this.emit("revokeObjectURL",i),i.intercepted?i.returnValue:i.target.call(i.that,i.data.url)})}}]);return C}(Oe.default),Me=C;var Ne=p(c(),1);var Ee=p(c(),1);var T=function(_Ee_default){_inherits(T,_Ee_default);var _super=_create_super(T);function T(t){_class_call_check(this,T);var _this;_this=_super.call(this),_this.ctx=t,_this.window=t.window,_this.localStorage=_this.window.localStorage||null,_this.sessionStorage=_this.window.sessionStorage||null,_this.Storage=_this.window.Storage||{},_this.storeProto=_this.Storage.prototype||{},_this.getItem=_this.storeProto.getItem||null,_this.setItem=_this.storeProto.setItem||null,_this.removeItem=_this.storeProto.removeItem||null,_this.clear=_this.storeProto.clear||null,_this.key=_this.storeProto.key||null,_this.methods=["key","getItem","setItem","removeItem","clear"],_this.wrappers=new t.nativeMethods.Map;return _possible_constructor_return(_this)}_create_class(T,[{key:"overrideMethods",value:function overrideMethods(){var _this=this;this.ctx.override(this.storeProto,"getItem",function(t,r,e){if(!e.length)return t.apply(_this.wrappers.get(r)||r,e);var _e=_sliced_to_array(e,1),n=_e[0],i=new s({name:n},t,_this.wrappers.get(r)||r);return _this.emit("getItem",i),i.intercepted?i.returnValue:i.target.call(i.that,i.data.name)}),this.ctx.override(this.storeProto,"setItem",function(t,r,e){if(2>e.length)return t.apply(_this.wrappers.get(r)||r,e);var _e=_sliced_to_array(e,2),n=_e[0],i=_e[1],o=new s({name:n,value:i},t,_this.wrappers.get(r)||r);return _this.emit("setItem",o),o.intercepted?o.returnValue:o.target.call(o.that,o.data.name,o.data.value)}),this.ctx.override(this.storeProto,"removeItem",function(t,r,e){if(!e.length)return t.apply(_this.wrappers.get(r)||r,e);var _e=_sliced_to_array(e,1),n=_e[0],i=new s({name:n},t,_this.wrappers.get(r)||r);return _this.emit("removeItem",i),i.intercepted?i.returnValue:i.target.call(i.that,i.data.name)}),this.ctx.override(this.storeProto,"clear",function(t,r){var e=new s(null,t,_this.wrappers.get(r)||r);return _this.emit("clear",e),e.intercepted?e.returnValue:e.target.call(e.that)}),this.ctx.override(this.storeProto,"key",function(t,r,e){if(!e.length)return t.apply(_this.wrappers.get(r)||r,e);var _e=_sliced_to_array(e,1),n=_e[0],i=new s({index:n},t,_this.wrappers.get(r)||r);return _this.emit("key",i),i.intercepted?i.returnValue:i.target.call(i.that,i.data.index)})}},{key:"overrideLength",value:function overrideLength(){var _this=this;this.ctx.overrideDescriptor(this.storeProto,"length",{get:function(t,r){var e=new s({length:t.call(_this.wrappers.get(r)||r)},t,_this.wrappers.get(r)||r);return _this.emit("length",e),e.intercepted?e.returnValue:e.data.length}})}},{key:"emulate",value:function emulate(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};var _this=this;this.ctx.nativeMethods.setPrototypeOf(r,this.storeProto);var e=new this.ctx.window.Proxy(r,{get:function(n,i){if(i in _this.storeProto||(typeof i==="undefined"?"undefined":_type_of(i))=="symbol")return t[i];var o=new s({name:i},null,t);return _this.emit("get",o),o.intercepted?o.returnValue:t[o.data.name]},set:function(n,i,o){if(i in _this.storeProto||(typeof i==="undefined"?"undefined":_type_of(i))=="symbol")return t[i]=o;var l=new s({name:i,value:o},null,t);return _this.emit("set",l),l.intercepted?l.returnValue:t[l.data.name]=l.data.value},deleteProperty:function(n,i){if((typeof i==="undefined"?"undefined":_type_of(i))=="symbol")return delete t[i];var o=new s({name:i},null,t);return _this.emit("delete",o),o.intercepted?o.returnValue:delete t[o.data.name]}});return this.wrappers.set(e,t),this.ctx.nativeMethods.setPrototypeOf(e,this.storeProto),e}}]);return T}(Ee.default),Se=T;var De=p(c(),1);var U=function(_De_default){_inherits(U,_De_default);var _super=_create_super(U);function U(t){_class_call_check(this,U);var _this;_this=_super.call(this),_this.ctx=t,_this.window=t.window,_this.CSSStyleDeclaration=_this.window.CSSStyleDeclaration||{},_this.cssStyleProto=_this.CSSStyleDeclaration.prototype||{},_this.getPropertyValue=_this.cssStyleProto.getPropertyValue||null,_this.setProperty=_this.cssStyleProto.setProperty||null,_this.cssText-t.nativeMethods.getOwnPropertyDescriptors(_this.cssStyleProto,"cssText"),_this.urlProps=["background","backgroundImage","borderImage","borderImageSource","listStyle","listStyleImage","cursor"],_this.dashedUrlProps=["background","background-image","border-image","border-image-source","list-style","list-style-image","cursor"],_this.propToDashed={background:"background",backgroundImage:"background-image",borderImage:"border-image",borderImageSource:"border-image-source",listStyle:"list-style",listStyleImage:"list-style-image",cursor:"cursor"};return _possible_constructor_return(_this)}_create_class(U,[{key:"overrideSetGetProperty",value:function overrideSetGetProperty(){var _this=this;this.ctx.override(this.cssStyleProto,"getPropertyValue",function(t,r,e){if(!e.length)return t.apply(r,e);var _e=_sliced_to_array(e,1),n=_e[0],i=new s({property:n},t,r);return _this.emit("getPropertyValue",i),i.intercepted?i.returnValue:i.target.call(i.that,i.data.property)}),this.ctx.override(this.cssStyleProto,"setProperty",function(t,r,e){if(2>e.length)return t.apply(r,e);var _e=_sliced_to_array(e,2),n=_e[0],i=_e[1],o=new s({property:n,value:i},t,r);return _this.emit("setProperty",o),o.intercepted?o.returnValue:o.target.call(o.that,o.data.property,o.data.value)})}},{key:"overrideCssText",value:function overrideCssText(){var _this=this;this.ctx.overrideDescriptor(this.cssStyleProto,"cssText",{get:function(t,r){var e=new s({value:t.call(r)},t,r);return _this.emit("getCssText",e),e.intercepted?e.returnValue:e.data.value},set:function(t,r,param){var _param=_sliced_to_array(param,1),e=_param[0];var n=new s({value:e},t,r);return _this.emit("setCssText",n),n.intercepted?n.returnValue:n.target.call(n.that,n.data.value)}})}}]);return U}(De.default),Ve=U;var ke=p(c(),1);var j=function(_ke_default){_inherits(j,_ke_default);var _super=_create_super(j);function j(t){_class_call_check(this,j);var _this;_this=_super.call(this),_this.ctx=t,_this.window=_this.ctx.window,_this.IDBDatabase=_this.window.IDBDatabase||{},_this.idbDatabaseProto=_this.IDBDatabase.prototype||{},_this.IDBFactory=_this.window.IDBFactory||{},_this.idbFactoryProto=_this.IDBFactory.prototype||{},_this.open=_this.idbFactoryProto.open;return _possible_constructor_return(_this)}_create_class(j,[{key:"overrideOpen",value:function overrideOpen(){var _this=this;this.ctx.override(this.IDBFactory.prototype,"open",function(t,r,e){if(!e.length||!e.length)return t.apply(r,e);var _e=_sliced_to_array(e,2),n=_e[0],i=_e[1],o=new s({name:n,version:i},t,r);return _this.emit("idbFactoryOpen",o),o.intercepted?o.returnValue:o.target.call(o.that,o.data.name,o.data.version)})}},{key:"overrideName",value:function overrideName(){var _this=this;this.ctx.overrideDescriptor(this.idbDatabaseProto,"name",{get:function(t,r){var e=new s({value:t.call(r)},t,r);return _this.emit("idbFactoryName",e),e.intercepted?e.returnValue:e.data.value}})}}]);return j}(ke.default),Re=j;var y=function(_Ne_default){_inherits(y,_Ne_default);var _super=_create_super(y);function y(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:self,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!t.window;_class_call_check(this,y);var _this;_this=_super.call(this),_this.window=t,_this.nativeMethods={fnToString:_this.window.Function.prototype.toString,defineProperty:_this.window.Object.defineProperty,getOwnPropertyDescriptor:_this.window.Object.getOwnPropertyDescriptor,getOwnPropertyDescriptors:_this.window.Object.getOwnPropertyDescriptors,getOwnPropertyNames:_this.window.Object.getOwnPropertyNames,keys:_this.window.Object.keys,getOwnPropertySymbols:_this.window.Object.getOwnPropertySymbols,isArray:_this.window.Array.isArray,setPrototypeOf:_this.window.Object.setPrototypeOf,isExtensible:_this.window.Object.isExtensible,Map:_this.window.Map,Proxy:_this.window.Proxy},_this.worker=r,_this.fetch=new ue(_assert_this_initialized(_this)),_this.xhr=new ce(_assert_this_initialized(_this)),_this.idb=new Re(_assert_this_initialized(_this)),_this.history=new fe(_assert_this_initialized(_this)),_this.element=new ee(_assert_this_initialized(_this)),_this.node=new re(_assert_this_initialized(_this)),_this.document=new Z(_assert_this_initialized(_this)),_this.function=new se(_assert_this_initialized(_this)),_this.object=new le(_assert_this_initialized(_this)),_this.message=new Pe(_assert_this_initialized(_this)),_this.navigator=new xe(_assert_this_initialized(_this)),_this.eventSource=new ve(_assert_this_initialized(_this)),_this.attribute=new ne(_assert_this_initialized(_this)),_this.url=new Me(_assert_this_initialized(_this)),_this.workers=new Le(_assert_this_initialized(_this)),_this.location=new N(_assert_this_initialized(_this)),_this.storage=new Se(_assert_this_initialized(_this)),_this.style=new Ve(_assert_this_initialized(_this));return _possible_constructor_return(_this)}_create_class(y,[{key:"initLocation",value:function initLocation(t,r){this.location=new N(this,r,t,this.worker)}},{key:"override",value:function override(t,r,e,n){var i=this.wrap(t,r,e,n);return t[r]=i,i}},{key:"overrideDescriptor",value:function overrideDescriptor(t,r){var e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};var n=this.wrapDescriptor(t,r,e);return n?(this.nativeMethods.defineProperty(t,r,n),n):{}}},{key:"wrap",value:function wrap(t,r,e,n){var i=t[r];if(!i)return i;var o="prototype"in i?function o(){return e(i,this,Array.prototype.slice.call(arguments))}:({attach:function attach(){return e(i,this,Array.prototype.slice.call(arguments))}}).attach;return n&&(o.prototype=i.prototype,o.prototype.constructor=o),this.emit("wrap",i,o,!!n),o}},{key:"wrapDescriptor",value:function wrapDescriptor(t,r){var e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};var n=this.nativeMethods.getOwnPropertyDescriptor(t,r);if(!n)return!1;for(var i in e)i in n&&(i==="get"||i==="set"?n[i]=this.wrap(n,i,e[i]):n[i]=typeof e[i]=="function"?e[i](n[i]):e[i]);return n}}]);return y}(Ne.default),Qt=y;typeof self=="object"&&(self.UVClient=y)})();